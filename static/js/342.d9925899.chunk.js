"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[342,994,344],{3201:function(n,t,r){r.d(t,{Z:function(){return a}});var e=r(2791),i=r(5218),c=r(184),a=function(n){var t=n.errorMessage,r=n.toastErrorMessage;return(0,e.useEffect)((function(){console.log(r),i.ZP.error(r)}),[r]),(0,c.jsx)("div",{children:t})}},4897:function(n,t,r){r.d(t,{Z:function(){return s}});var e,i=r(3504),c=r(6871),a=r(168),u=r(7939).ZP.li(e||(e=(0,a.Z)(["\n    :not(:last-child) {\n        margin-bottom: 20px;\n    }\n"]))),o=r(184);function s(n){var t=n.movies,r=(0,c.TH)();return(0,o.jsx)("ol",{children:t.map((function(n){return(0,o.jsx)(u,{children:(0,o.jsx)(i.OL,{to:r.pathname.length<2?"movies/".concat(n.id):"".concat(n.id),state:r,children:n.original_title})},n.id)}))})}},3971:function(n,t,r){r.d(t,{Z:function(){return u}});r(2791);var e,i=r(168),c=r(7939).ZP.section(e||(e=(0,i.Z)(["\n  position: relative;\n  padding: 10px;\n  border: ",";\n  border-radius: 3px;\n  min-height: ",";\n"])),(function(n){return n.isEmpty?"none":"1px solid black"}),(function(n){return n.isEmpty?"500px":"auto"})),a=r(184),u=function(n){var t=n.children,r=n.isEmpty;return(0,a.jsx)(c,{isEmpty:r,children:t})}},6994:function(n,t,r){r.r(t),r.d(t,{default:function(){return v}});var e=r(885),i=r(2791),c=r(3504),a=r(3971),u=r(4897),o=r(6344),s=r(951),f=(r(5218),r(2022)),d=r(3639),l=r(3201),p=r(184);var v=(0,f.j)((function(n){var t=n.apiState,r="query",f=function(n){var t=n.init,r=n.apiState,a=n.fetchAPI,u=n.paramName,o=(0,i.useState)(t),s=(0,e.Z)(o,2),f=s[0],d=s[1],l=(0,c.lr)(),p=(0,e.Z)(l,1)[0];return(0,i.useEffect)((function(){var n=p.get(u);n&&(r.pending(),a(n).then((function(n){var t;if(0===(null===n||void 0===n||null===(t=n.results)||void 0===t?void 0:t.length))throw Error();d(n.results),r.success()})).catch((function(n){r.error()})))}),[r,a,u,p]),f}({init:[],apiState:t,fetchAPI:d.mv,paramName:r}),v=(0,c.lr)(),h=(0,e.Z)(v,2),m=h[0],g=h[1];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(a.Z,{children:(0,p.jsx)(o.MovieForm,{onSubmit:g,paramName:r})}),(0,p.jsxs)(a.Z,{isEmpty:!(f.length>0),children:[t.isSuccess()&&(0,p.jsx)(u.Z,{movies:f}),t.isPending()&&(0,p.jsx)(s.Z,{}),t.isError()&&(0,p.jsx)(l.Z,{errorMessage:"Sorry, we cannot find the movie with search ".concat(m.get(r)),toastErrorMessage:"Text, please valid Keyword"}),t.isIdle()&&(0,p.jsx)("p",{children:"Find a Movie"})]})]})}))},6344:function(n,t,r){r.r(t),r.d(t,{MovieForm:function(){return v}});var e=r(1413),i=r(4942),c=r(9195),a=r(4107),u=r(4281),o=r(1265),s=r(7942),f=r(5218),d=r(2791),l=r(184),p=s.Ry({query:s.Z_().min(1).required()}).required();function v(n){var t=n.onSubmit,r=n.paramName,s=(0,c.cI)({resolver:(0,o.X)(p)}),v=s.register,m=s.handleSubmit,g=s.reset,x=s.formState.errors;(0,d.useEffect)((function(){var n,t;(null===(n=x[r])||void 0===n||null===(t=n.message)||void 0===t?void 0:t.length)>0&&f.ZP.error("Text something")}),[x,r]);return(0,l.jsxs)("form",{style:{display:"flex",alignItems:"center"},onSubmit:m((function(n){console.log(n),t((0,i.Z)({},r,n.query)),g()})),children:[(0,l.jsx)(a.Z,(0,e.Z)({label:"Text Query",size:"small",defaultValue:""},v("query",{required:!0}))),(0,l.jsx)(u.Z,{sx:h,variant:"outlined",type:"submit",children:"Search Movie"})]})}var h={color:"black",border:"1px solid black",marginLeft:"10px"}},2342:function(n,t,r){r.r(t),r.d(t,{default:function(){return e.default}});var e=r(6994)},3639:function(n,t,r){r.d(t,{Bt:function(){return p},Ny:function(){return f},mv:function(){return l},wL:function(){return v},wr:function(){return d}});var e=r(5861),i=r(7757),c=r.n(i),a=r(4569),u=r.n(a),o="ddd72ffccd1b0460d4d5bf775327139b",s="https://api.themoviedb.org/3",f=function(){var n=(0,e.Z)(c().mark((function n(t){var r,e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u().get("".concat(s,"/movie/").concat(t,"?api_key=").concat(o)).catch((function(n){return h()}));case 2:return r=n.sent,e=r.data,n.abrupt("return",e);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),d=function(){var n=(0,e.Z)(c().mark((function n(){var t,r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u().get("".concat(s,"/trending/movie/day?api_key=").concat(o)).catch((function(n){return h()}));case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),l=function(){var n=(0,e.Z)(c().mark((function n(){var t,r,e,i=arguments;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"",n.next=3,u().get("".concat(s,"/search/movie?api_key=").concat(o,"&query=").concat(t)).catch((function(n){return h()}));case 3:return r=n.sent,e=r.data,n.abrupt("return",e);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=function(){var n=(0,e.Z)(c().mark((function n(t){var r,e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u().get("".concat(s,"/movie/").concat(t,"/reviews?api_key=").concat(o,"&language=en-US&page=1")).catch((function(n){return h()}));case 2:return r=n.sent,e=r.data,n.abrupt("return",e);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),v=function(){var n=(0,e.Z)(c().mark((function n(t){var r,e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u().get("".concat(s,"/movie/").concat(t,"/credits?api_key=").concat(o,"&language=en-US&page=1")).catch((function(n){return h()}));case 2:return r=n.sent,e=r.data,n.abrupt("return",e);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),h=function(){throw new Error}},2022:function(n,t,r){r.d(t,{j:function(){return f}});var e=r(1413),i=r(5671),c=r(3144),a=r(136),u=r(3668),o=r(2791),s=(r(5218),r(184)),f=function(n){return function(t){(0,a.Z)(o,t);var r=(0,u.Z)(o);function o(){var n;(0,i.Z)(this,o);for(var t=arguments.length,e=new Array(t),c=0;c<t;c++)e[c]=arguments[c];return(n=r.call.apply(r,[this].concat(e))).state={current:"idle"},n.apiState={pending:function(){return n.setState({current:"pending"})},success:function(){return n.setState({current:"success"})},error:function(){n.setState({current:"error"})},idle:function(){return n.setState({current:"idle"})},isPending:function(){return"pending"===n.state.current},isSuccess:function(){return"success"===n.state.current},isError:function(){return"error"===n.state.current},isIdle:function(){return"idle"===n.state.current}},n}return(0,c.Z)(o,[{key:"render",value:function(){return(0,s.jsx)(n,(0,e.Z)((0,e.Z)({},this.props),{},{apiState:this.apiState}))}}]),o}(o.Component)}}}]);
//# sourceMappingURL=342.d9925899.chunk.js.map