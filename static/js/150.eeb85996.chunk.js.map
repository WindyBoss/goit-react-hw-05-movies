{"version":3,"file":"static/js/150.eeb85996.chunk.js","mappings":"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","sources":["components/ErrorHandler/ErrorHandler.jsx","components/SectionContainer/SectionContainer.styled.jsx","components/SectionContainer/SectionContainer.jsx","hooks/useFetchParams.js","pages/MovieDetailPage/MovieDetailPage.jsx","pages/MovieDetailPage/components/MovieDetails.jsx","pages/MovieDetailPage/components/MovieInfoContainer.jsx","pages/MovieDetailPage/components/RatioContainer.jsx","pages/MovieDetailPage/components/RatioHover.jsx","pages/MovieDetailPage/styles/MovieDetailPage.styled.jsx","service/ApiService.js","service/stateMachine.js"],"sourcesContent":["import { useEffect } from 'react';\nimport toast from 'react-hot-toast';\n\nconst ErrorHandler = ({ errorMessage, toastErrorMessage }) => {\n  useEffect(() => {\n    console.log(toastErrorMessage)\n    toast.error(toastErrorMessage);\n  }, [toastErrorMessage]);\n\n  return <div>{errorMessage}</div>;\n};\n\nexport default ErrorHandler;\n","import styled from 'styled-components';\n\nexport const Section = styled.section`\n  position: relative;\n  padding: 10px;\n  border: ${props => (props.isEmpty ? 'none' : '1px solid black')};\n  border-radius: 3px;\n  min-height: ${props => (props.isEmpty ? '500px' : 'auto')};\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Section } from './SectionContainer.styled';\n\nconst SectionContainer = ({ children, isEmpty }) => {\n  return <Section isEmpty={isEmpty}>{children}</Section>;\n};\n\nSectionContainer.propTypes = {\n  children: PropTypes.any,\n  isEmpty: PropTypes.bool,\n}\n\nexport default SectionContainer;","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\nexport const useFetchParams = ({ init, apiState, fetchAPI }) => {\n  const [state, setState] = useState(init);\n  const params = useParams();\n\n  useEffect(() => {\n    apiState.pending();\n    fetchAPI(params.movieId)\n      .then(data => {\n        setState(data);\n        apiState.success();\n      })\n      .catch(error => {\n        apiState.error()\n      });\n  }, [apiState, fetchAPI, params]);\n\n  return state;\n};\n","import PropTypes from 'prop-types';\n\nimport { fetchMovie } from 'service/ApiService';\nimport { withApiState } from 'service/stateMachine';\n\nimport { useFetchParams } from 'hooks/useFetchParams';\n\nimport Pending from 'components/Pending';\nimport SectionContainer from 'components/SectionContainer';\nimport ErrorHandler from 'components/ErrorHandler';\nimport { MovieDetails } from './components/MovieDetails';\n\nfunction MovieDetailPage({ apiState }) {\n  const state = useFetchParams({\n    init: null,\n    apiState: apiState,\n    fetchAPI: fetchMovie,\n  });\n\n  return (\n    <>\n      {apiState.isPending() && (\n        <SectionContainer>\n          <Pending />\n        </SectionContainer>\n      )}\n      {apiState.isSuccess() && <MovieDetails movie={state} />}\n      {apiState.isError() && (\n        <SectionContainer>\n          <p>Oops, something went wrong, try please later</p>\n          <ErrorHandler\n            errorMessage=\"Oops, there is no information about reviews, try please later\"\n            toastErrorMessage=\"Oops, something went wrong, try please later\"\n          />\n        </SectionContainer>\n      )}\n    </>\n  );\n}\n\nMovieDetailPage.propTypes = {\n  apiState: PropTypes.object,\n};\n\nexport default withApiState(MovieDetailPage);\n","import { Outlet } from 'react-router-dom';\nimport { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport SectionContainer from 'components/SectionContainer';\nimport {\n  Navigation,\n  StyledNavLink,\n  MovieContainer,\n} from '../styles/MovieDetailPage.styled';\n\nimport { MovieInfoContainer } from './MovieInfoContainer';\n\nexport const MovieDetails = ({ movie }) => {\n  const [showRatio, setShowRatio] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const toggleShowRatio = e => {\n    setAnchorEl(e.currentTarget);\n    setShowRatio(prevState => !prevState);\n  };\n\n  return (\n    <>\n      <SectionContainer>\n        <MovieContainer>\n          <img\n            src={`https://image.tmdb.org/t/p/w500/${movie.poster_path}`}\n            width=\"280px\"\n            alt={movie.original_title}\n          />\n          <MovieInfoContainer\n            movie={movie}\n            onToggle={toggleShowRatio}\n            showRatio={showRatio}\n            anchorEl={anchorEl}\n          />\n        </MovieContainer>\n      </SectionContainer>\n      <SectionContainer>\n        <h3>Additional Information</h3>\n        <Navigation>\n          <StyledNavLink to=\"actors\">Actors</StyledNavLink>\n          <StyledNavLink to=\"reviews\">Reviews</StyledNavLink>\n        </Navigation>\n      </SectionContainer>\n      <Outlet />\n    </>\n  );\n};\n\nMovieDetails.propTypes = {\n  movie: PropTypes.object.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nimport { RatioContainer } from './RatioContainer';\nimport { InfoContainer } from '../styles/MovieDetailPage.styled';\n\nexport const MovieInfoContainer = ({\n  movie,\n  onToggle,\n  showRatio,\n  anchorEl,\n}) => {\n  return (\n    <InfoContainer>\n      <h2>{movie.original_title}</h2>\n      <RatioContainer\n        onToggle={onToggle}\n        movie={movie}\n        anchorEl={anchorEl}\n        showRatio={showRatio}\n      />\n      <h3>Overview</h3>\n      <p>{movie.overview}</p>\n      <h3>Genres</h3>\n      <ol>\n        {movie.genres.map(genre => (\n          <li key={genre.id}>\n            <p>{genre.name}</p>\n          </li>\n        ))}\n      </ol>\n    </InfoContainer>\n  );\n};\n\nMovieInfoContainer.propTypes = {\n  movie: PropTypes.object.isRequired,\n  onToggle: PropTypes.func.isRequired,\n  showRatio: PropTypes.bool.isRequired,\n  anchorEl: PropTypes.any,\n};","import ReactStars from 'react-rating-stars-component';\nimport PropTypes from 'prop-types';\n\nimport { RatioHover } from './RatioHover';\n\nexport const RatioContainer = ({ onToggle, movie, anchorEl, showRatio }) => {\n  return (\n    <>\n      <div\n        aria-owns=\"mouse-over-popover\"\n        aria-haspopup=\"true\"\n        onMouseEnter={onToggle}\n        onMouseLeave={onToggle}\n        sx={{ position: 'relative' }}\n      >\n        <ReactStars\n          count={5}\n          size={24}\n          value={movie.vote_average / 2}\n          activeColor=\"#ffd700\"\n          isHalf={true}\n          edit={false}\n        />\n      </div>\n\n      <RatioHover\n        anchorEl={anchorEl}\n        showRatio={showRatio}\n        ratio={movie.vote_average}\n      />\n    </>\n  );\n};\n\nRatioContainer.propTypes = {\n  movie: PropTypes.object.isRequired,\n  onToggle: PropTypes.func.isRequired,\n  showRatio: PropTypes.bool.isRequired,\n  anchorEl: PropTypes.any,\n};\n","import Popover from '@mui/material/Popover';\nimport Typography from '@mui/material/Typography';\nimport PropTypes from 'prop-types';\n\nexport const RatioHover = ({ ratio, showRatio, anchorEl }) => {\n  return (\n    <Popover\n      id=\"mouse-over-popover\"\n      sx={{\n        pointerEvents: 'none',\n        position: 'absolute',\n        top: 20,\n        left: 120,\n      }}\n      open={showRatio}\n      disableRestoreFocus\n      anchorEl={anchorEl}\n    >\n      <Typography sx={{ padding: '5px' }}>{ratio}/10</Typography>\n    </Popover>\n  );\n};\n\nRatioHover.propTypes = {\n  ratio: PropTypes.number.isRequired,\n  showRatio: PropTypes.bool.isRequired,\n  anchorEl: PropTypes.any,\n};\n","import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const Navigation = styled.nav`\n  padding: 10px 10px;\n`;\n\nexport const StyledNavLink = styled(NavLink)`\n  text-decoration: none;\n  font-size: 16px;\n  font-weight: bold;\n  color: black;\n\n  &.active {\n    color: red;\n  }\n  :not(:last-child) {\n    margin-right: 20px;\n  }\n`;\n\nexport const MovieContainer = styled.div`\n  display: flex;\n`;\n\nexport const InfoContainer = styled.div`\nmargin-left: 40px;\n`;\n","import axios from 'axios';\n\nconst API_KEY = 'ddd72ffccd1b0460d4d5bf775327139b';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport const fetchMovie = async movieId => {\n  const { data } = await axios\n    .get(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`)\n    .catch(error => errorHandler());\n  return data;\n};\n\nexport const fetchTrendingMovies = async () => {\n  const { data } = await axios\n    .get(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`)\n    .catch(error => errorHandler());\n  return data;\n};\n\nexport const fetchMovieByQuery = async (query = '') => {\n  const { data } = await axios\n    .get(`${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}`)\n    .catch(error => errorHandler());\n  return data;\n};\n\nexport const fetchReviews = async movieId => {\n  const { data } = await axios\n    .get(\n      `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n    )\n    .catch(error => errorHandler());\n  return data;\n};\n\nexport const fetchActors = async movieId => {\n  const { data } = await axios\n    .get(\n      `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US&page=1`\n    )\n    .catch(error => errorHandler());\n  return data;\n};\n\nconst errorHandler = () => {\n  throw new Error();\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport const withApiState = TargetComponent =>\n  class extends Component {\n    state = {\n      current: 'idle',\n    };\n    apiState = {\n      pending: () => this.setState({ current: 'pending' }), \n      success: () => this.setState({ current: 'success' }),\n      error: () => {\n        console.log('error');\n        this.setState({ current: 'error' });\n      },\n      idle: () => this.setState({ current: 'idle' }),\n      isPending: () => this.state.current === 'pending', \n      isSuccess: () => this.state.current === 'success',\n      isError: () => this.state.current === 'error',\n      isIdle: () => this.state.current === 'idle',\n    };\n\n    render() {\n      return <TargetComponent {...this.props} apiState={this.apiState} />;\n    }\n  };\n\nwithApiState.propTypes = {\n  TargetComponent: PropTypes.func.isRequired,\n};\n"],"names":["errorMessage","toastErrorMessage","useEffect","console","log","toast","Section","styled","props","isEmpty","children","useFetchParams","init","apiState","fetchAPI","useState","state","setState","params","useParams","pending","movieId","then","data","success","catch","error","withApiState","fetchMovie","isPending","isSuccess","MovieDetails","movie","isError","showRatio","setShowRatio","anchorEl","setAnchorEl","MovieContainer","src","poster_path","width","alt","original_title","MovieInfoContainer","onToggle","e","currentTarget","prevState","Navigation","StyledNavLink","to","InfoContainer","RatioContainer","overview","genres","map","genre","name","id","onMouseEnter","onMouseLeave","sx","position","count","size","value","vote_average","activeColor","isHalf","edit","RatioHover","ratio","pointerEvents","top","left","open","disableRestoreFocus","padding","NavLink","API_KEY","BASE_URL","axios","errorHandler","fetchTrendingMovies","fetchMovieByQuery","query","fetchReviews","fetchActors","Error","TargetComponent","current","idle","isIdle","this","Component"],"sourceRoot":""}